(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42b39b58"],{"057f":function(t,e,n){var r=n("c6b6"),o=n("fc6a"),a=n("241c").f,c=n("4dae"),i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(t){try{return a(t)}catch(e){return c(i)}};t.exports.f=function(t){return i&&"Window"==r(t)?l(t):a(o(t))}},"1dde":function(t,e,n){var r=n("d039"),o=n("b622"),a=n("2d00"),c=o("species");t.exports=function(t){return a>=51||!r((function(){var e=[],n=e.constructor={};return n[c]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"428f":function(t,e,n){var r=n("da84");t.exports=r},"4dae":function(t,e,n){var r=n("da84"),o=n("23cb"),a=n("07fa"),c=n("8418"),i=r.Array,l=Math.max;t.exports=function(t,e,n){for(var r=a(t),d=o(e,r),s=o(void 0===n?r:n,r),u=i(l(s-d,0)),f=0;d<s;d++,f++)c(u,f,t[d]);return u.length=f,u}},"4de4":function(t,e,n){"use strict";var r=n("23e7"),o=n("b727").filter,a=n("1dde"),c=a("filter");r({target:"Array",proto:!0,forced:!c},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("b64b"),n("a4d3"),n("4de4"),n("d3b7"),n("e439"),n("159b"),n("dbb4");function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},6407:function(t,e,n){"use strict";var r=n("7a23"),o={"aria-label":"Page navigation example"},a={class:"pagination justify-content-center"},c=Object(r["createElementVNode"])("span",{"aria-hidden":"true"},"«",-1),i=[c],l=["onClick"],d={class:"page-link",href:"#"},s=Object(r["createElementVNode"])("span",{"aria-hidden":"true"},"»",-1),u=[s];function f(t,e,n,c,s,f){return Object(r["openBlock"])(),Object(r["createElementBlock"])("nav",o,[Object(r["createElementVNode"])("ul",a,[Object(r["createElementVNode"])("li",{class:Object(r["normalizeClass"])(["page-item",{disabled:!n.pagination.has_pre}])},[Object(r["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=Object(r["withModifiers"])((function(t){return f.switchPage(n.pagination.current_page-1)}),["prevent"]))},i)],2),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(n.pagination.total_pages,(function(t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{class:"page-item",key:t+1234,onClick:Object(r["withModifiers"])((function(e){return f.switchPage(t)}),["prevent"])},[Object(r["createElementVNode"])("a",d,Object(r["toDisplayString"])(t),1)],8,l)})),128)),Object(r["createElementVNode"])("li",{class:Object(r["normalizeClass"])(["page-item",{disabled:!n.pagination.has_next}])},[Object(r["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=Object(r["withModifiers"])((function(t){return f.switchPage(n.pagination.current_page+1)}),["prevent"]))},u)],2)])])}var p={props:["pagination"],data:function(){return{}},methods:{switchPage:function(t){this.$emit("switch-page",t)}}},b=n("6b0d"),h=n.n(b);const m=h()(p,[["render",f]]);e["a"]=m},"746f":function(t,e,n){var r=n("428f"),o=n("1a2d"),a=n("e538"),c=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||c(e,t,{value:a.f(t)})}},8418:function(t,e,n){"use strict";var r=n("a04b"),o=n("9bf2"),a=n("5c6c");t.exports=function(t,e,n){var c=r(e);c in t?o.f(t,c,a(0,n)):t[c]=n}},"99af":function(t,e,n){"use strict";var r=n("23e7"),o=n("da84"),a=n("d039"),c=n("e8b5"),i=n("861d"),l=n("7b0b"),d=n("07fa"),s=n("8418"),u=n("65f0"),f=n("1dde"),p=n("b622"),b=n("2d00"),h=p("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",O=o.TypeError,j=b>=51||!a((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),v=f("concat"),y=function(t){if(!i(t))return!1;var e=t[h];return void 0!==e?!!e:c(t)},E=!j||!v;r({target:"Array",proto:!0,forced:E},{concat:function(t){var e,n,r,o,a,c=l(this),i=u(c,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(a=-1===e?c:arguments[e],y(a)){if(o=d(a),f+o>m)throw O(g);for(n=0;n<o;n++,f++)n in a&&s(i,f,a[n])}else{if(f>=m)throw O(g);s(i,f++,a)}return i.length=f,i}})},a4d3:function(t,e,n){"use strict";var r=n("23e7"),o=n("da84"),a=n("d066"),c=n("2ba4"),i=n("c65b"),l=n("e330"),d=n("c430"),s=n("83ab"),u=n("4930"),f=n("d039"),p=n("1a2d"),b=n("e8b5"),h=n("1626"),m=n("861d"),g=n("3a9b"),O=n("d9b5"),j=n("825a"),v=n("7b0b"),y=n("fc6a"),E=n("a04b"),w=n("577e"),N=n("5c6c"),V=n("7c73"),P=n("df75"),k=n("241c"),S=n("057f"),C=n("7418"),M=n("06cf"),x=n("9bf2"),D=n("37e8"),B=n("d1e7"),$=n("f36a"),U=n("6eeb"),_=n("5692"),Q=n("f772"),A=n("d012"),F=n("90e3"),q=n("b622"),z=n("e538"),J=n("746f"),L=n("d44e"),I=n("69f3"),T=n("b727").forEach,W=Q("hidden"),G="Symbol",H="prototype",K=q("toPrimitive"),R=I.set,X=I.getterFor(G),Y=Object[H],Z=o.Symbol,tt=Z&&Z[H],et=o.TypeError,nt=o.QObject,rt=a("JSON","stringify"),ot=M.f,at=x.f,ct=S.f,it=B.f,lt=l([].push),dt=_("symbols"),st=_("op-symbols"),ut=_("string-to-symbol-registry"),ft=_("symbol-to-string-registry"),pt=_("wks"),bt=!nt||!nt[H]||!nt[H].findChild,ht=s&&f((function(){return 7!=V(at({},"a",{get:function(){return at(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=ot(Y,e);r&&delete Y[e],at(t,e,n),r&&t!==Y&&at(Y,e,r)}:at,mt=function(t,e){var n=dt[t]=V(tt);return R(n,{type:G,tag:t,description:e}),s||(n.description=e),n},gt=function(t,e,n){t===Y&&gt(st,e,n),j(t);var r=E(e);return j(n),p(dt,r)?(n.enumerable?(p(t,W)&&t[W][r]&&(t[W][r]=!1),n=V(n,{enumerable:N(0,!1)})):(p(t,W)||at(t,W,N(1,{})),t[W][r]=!0),ht(t,r,n)):at(t,r,n)},Ot=function(t,e){j(t);var n=y(e),r=P(n).concat(wt(n));return T(r,(function(e){s&&!i(vt,n,e)||gt(t,e,n[e])})),t},jt=function(t,e){return void 0===e?V(t):Ot(V(t),e)},vt=function(t){var e=E(t),n=i(it,this,e);return!(this===Y&&p(dt,e)&&!p(st,e))&&(!(n||!p(this,e)||!p(dt,e)||p(this,W)&&this[W][e])||n)},yt=function(t,e){var n=y(t),r=E(e);if(n!==Y||!p(dt,r)||p(st,r)){var o=ot(n,r);return!o||!p(dt,r)||p(n,W)&&n[W][r]||(o.enumerable=!0),o}},Et=function(t){var e=ct(y(t)),n=[];return T(e,(function(t){p(dt,t)||p(A,t)||lt(n,t)})),n},wt=function(t){var e=t===Y,n=ct(e?st:y(t)),r=[];return T(n,(function(t){!p(dt,t)||e&&!p(Y,t)||lt(r,dt[t])})),r};if(u||(Z=function(){if(g(tt,this))throw et("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?w(arguments[0]):void 0,e=F(t),n=function(t){this===Y&&i(n,st,t),p(this,W)&&p(this[W],e)&&(this[W][e]=!1),ht(this,e,N(1,t))};return s&&bt&&ht(Y,e,{configurable:!0,set:n}),mt(e,t)},tt=Z[H],U(tt,"toString",(function(){return X(this).tag})),U(Z,"withoutSetter",(function(t){return mt(F(t),t)})),B.f=vt,x.f=gt,D.f=Ot,M.f=yt,k.f=S.f=Et,C.f=wt,z.f=function(t){return mt(q(t),t)},s&&(at(tt,"description",{configurable:!0,get:function(){return X(this).description}}),d||U(Y,"propertyIsEnumerable",vt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Z}),T(P(pt),(function(t){J(t)})),r({target:G,stat:!0,forced:!u},{for:function(t){var e=w(t);if(p(ut,e))return ut[e];var n=Z(e);return ut[e]=n,ft[n]=e,n},keyFor:function(t){if(!O(t))throw et(t+" is not a symbol");if(p(ft,t))return ft[t]},useSetter:function(){bt=!0},useSimple:function(){bt=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!s},{create:jt,defineProperty:gt,defineProperties:Ot,getOwnPropertyDescriptor:yt}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:Et,getOwnPropertySymbols:wt}),r({target:"Object",stat:!0,forced:f((function(){C.f(1)}))},{getOwnPropertySymbols:function(t){return C.f(v(t))}}),rt){var Nt=!u||f((function(){var t=Z();return"[null]"!=rt([t])||"{}"!=rt({a:t})||"{}"!=rt(Object(t))}));r({target:"JSON",stat:!0,forced:Nt},{stringify:function(t,e,n){var r=$(arguments),o=e;if((m(e)||void 0!==t)&&!O(t))return b(e)||(e=function(t,e){if(h(o)&&(e=i(o,this,t,e)),!O(e))return e}),r[1]=e,c(rt,null,r)}})}if(!tt[K]){var Vt=tt.valueOf;U(tt,K,(function(t){return i(Vt,this)}))}L(Z,G),A[W]=!0},dbb4:function(t,e,n){var r=n("23e7"),o=n("83ab"),a=n("56ef"),c=n("fc6a"),i=n("06cf"),l=n("8418");r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){var e,n,r=c(t),o=i.f,d=a(r),s={},u=0;while(d.length>u)n=o(r,e=d[u++]),void 0!==n&&l(s,e,n);return s}})},e01a:function(t,e,n){"use strict";var r=n("23e7"),o=n("83ab"),a=n("da84"),c=n("e330"),i=n("1a2d"),l=n("1626"),d=n("3a9b"),s=n("577e"),u=n("9bf2").f,f=n("e893"),p=a.Symbol,b=p&&p.prototype;if(o&&l(p)&&(!("description"in b)||void 0!==p().description)){var h={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:s(arguments[0]),e=d(b,this)?new p(t):void 0===t?p():p(t);return""===t&&(h[e]=!0),e};f(m,p),m.prototype=b,b.constructor=m;var g="Symbol(test)"==String(p("test")),O=c(b.toString),j=c(b.valueOf),v=/^Symbol\((.*)\)[^)]+$/,y=c("".replace),E=c("".slice);u(b,"description",{configurable:!0,get:function(){var t=j(this),e=O(t);if(i(h,t))return"";var n=g?E(e,7,-1):y(e,v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:m})}},e439:function(t,e,n){var r=n("23e7"),o=n("d039"),a=n("fc6a"),c=n("06cf").f,i=n("83ab"),l=o((function(){c(1)})),d=!i||l;r({target:"Object",stat:!0,forced:d,sham:!i},{getOwnPropertyDescriptor:function(t,e){return c(a(t),e)}})},e538:function(t,e,n){var r=n("b622");e.f=r},fd15:function(t,e,n){"use strict";n.r(e);var r=n("7a23"),o={id:"app"},a={class:"container"},c={class:"mt-4"},i={class:"table align-middle"},l=Object(r["createElementVNode"])("thead",null,[Object(r["createElementVNode"])("tr",null,[Object(r["createElementVNode"])("th",null,"圖片"),Object(r["createElementVNode"])("th",null,"商品名稱"),Object(r["createElementVNode"])("th",null,"價格"),Object(r["createElementVNode"])("th")])],-1),d={style:{width:"200px"}},s={class:"h5"},u={class:"h6"},f={class:"btn-group btn-group-sm"},p=["onClick"],b=["onClick"];function h(t,e,n,h,m,g){var O=Object(r["resolveComponent"])("product-modal"),j=Object(r["resolveComponent"])("pagination");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",o,[Object(r["createElementVNode"])("div",a,[Object(r["createElementVNode"])("div",c,[Object(r["createVNode"])(O,{product:m.tempProduct,onAddCarts:g.updateCarts,ref:"productModal"},null,8,["product","onAddCarts"]),Object(r["createElementVNode"])("table",i,[l,Object(r["createElementVNode"])("tbody",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(m.products,(function(t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("tr",{key:t.id},[Object(r["createElementVNode"])("td",d,[Object(r["createElementVNode"])("div",{style:Object(r["normalizeStyle"])([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(t.imageUrl,")")}])},null,4)]),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(t.title),1),Object(r["createElementVNode"])("td",null,[Object(r["createElementVNode"])("div",s,Object(r["toDisplayString"])(t.price)+" 元",1),Object(r["createElementVNode"])("del",u,"原價 "+Object(r["toDisplayString"])(t.origin_price)+" 元",1)]),Object(r["createElementVNode"])("td",null,[Object(r["createElementVNode"])("div",f,[Object(r["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:function(e){return g.openProductModal(t)}}," 查看更多 ",8,p),Object(r["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger",onClick:function(e){return g.updateCarts("add",{product_id:t.id,qty:1})}}," 加到購物車 ",8,b)])])])})),128))])]),Object(r["createVNode"])(j,{pagination:m.pagination,onSwitchPage:g.getProducts},null,8,["pagination","onSwitchPage"])])])])}var m=n("5530"),g=(n("99af"),n("a4d3"),n("e01a"),{class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"}),O={class:"modal-dialog modal-xl",role:"document"},j={class:"modal-content border-0"},v={class:"modal-header bg-dark text-white"},y={class:"modal-title",id:"exampleModalLabel"},E=Object(r["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),w={class:"modal-body"},N={class:"row"},V={class:"col-sm-6"},P=["src","alt"],k={class:"col-sm-6"},S={class:"badge bg-primary rounded-pill"},C={class:"h5"},M={class:"h6"},x={class:"input-group"};function D(t,e,n,o,a,c){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",g,[Object(r["createElementVNode"])("div",O,[Object(r["createElementVNode"])("div",j,[Object(r["createElementVNode"])("div",v,[Object(r["createElementVNode"])("h5",y,[Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(n.product.title),1)]),E]),Object(r["createElementVNode"])("div",w,[Object(r["createElementVNode"])("div",N,[Object(r["createElementVNode"])("div",V,[Object(r["createElementVNode"])("img",{class:"img-fluid",src:n.product.imageUrl,alt:n.product.title},null,8,P)]),Object(r["createElementVNode"])("div",k,[Object(r["createElementVNode"])("span",S,Object(r["toDisplayString"])(n.product.category),1),Object(r["createElementVNode"])("p",null,"商品描述："+Object(r["toDisplayString"])(n.product.description),1),Object(r["createElementVNode"])("p",null,"商品內容："+Object(r["toDisplayString"])(n.product.content),1),Object(r["createElementVNode"])("div",C,Object(r["toDisplayString"])(n.product.price)+" 元",1),Object(r["createElementVNode"])("del",M,"原價 "+Object(r["toDisplayString"])(n.product.origin_price)+" 元",1),Object(r["createElementVNode"])("div",null,[Object(r["createElementVNode"])("div",x,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":e[0]||(e[0]=function(t){return a.productQty=t})},null,512),[[r["vModelText"],a.productQty]]),Object(r["createElementVNode"])("button",{type:"button",class:"btn btn-primary",onClick:e[1]||(e[1]=function(){return c.addCarts&&c.addCarts.apply(c,arguments)})}," 加入購物車 ")])])])])])])])],512)}var B=n("7b17"),$={props:["product"],data:function(){return{modal:{},productQty:1}},methods:{openModal:function(){this.productQty=1,this.modal.show()},hideModal:function(){this.modal.hide()},addCarts:function(){var t={product_id:this.product.id,qty:this.productQty};this.$emit("addCarts","add",t)}},mounted:function(){this.modal=new B["a"](document.getElementById("productModal"),{})}},U=n("6b0d"),_=n.n(U);const Q=_()($,[["render",D]]);var A=Q,F=n("6407"),q={data:function(){return{products:[],tempProduct:{},pagination:{},cart:{carts:[]},order:{user:{},message:""},apiUrl:"https://vue3-course-api.hexschool.io/v2",apiPath:"kn99"}},components:{productModal:A,pagination:F["a"]},methods:{getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.$loading.show();this.axios.get("".concat(this.apiUrl,"/api/").concat(this.apiPath,"/products?page=").concat(e)).then((function(e){n.hide(),t.products=e.data.products,t.pagination=e.data.pagination})).catch((function(t){console.log(t.response)}))},openProductModal:function(t){this.tempProduct=Object(m["a"])({},t),this.$refs.productModal.openModal()},hideProductModal:function(){this.$refs.productModal.hideModal()},getCarts:function(){var t=this,e=this.$loading.show();this.axios.get("".concat(this.apiUrl,"/api/").concat(this.apiPath,"/cart")).then((function(n){e.hide(),t.cart=n.data.data})).catch((function(t){console.log(t.response)}))},updateCarts:function(t,e){var n=this,r=e.id,o=e.product_id,a=e.qty,c="post",i="".concat(this.apiUrl,"/api/").concat(this.apiPath,"/cart/");"edit"===t&&(c="put",i="".concat(this.apiUrl,"/api/").concat(this.apiPath,"/cart/").concat(r)),this.axios[c](i,{data:{product_id:o,qty:a}}).then((function(){n.hideProductModal(),n.getCarts()})).catch((function(t){console.log(t)}))},deleteCarts:function(t,e){var n=this,r="";"all"===t?r="".concat(this.apiUrl,"/api/").concat(this.apiPath,"/carts/"):"single"===t&&(r="".concat(this.apiUrl,"/api/").concat(this.apiPath,"/cart/").concat(e.id)),this.axios.delete(r).then((function(){n.hideDelProductModal(),n.getCarts()})).catch((function(t){console.log(t)}))},openDelProductModal:function(t,e,n){this.$refs.delModal.openModal(t,e,n)},hideDelProductModal:function(){this.$refs.delModal.hideModal()},submitOrder:function(){var t=this;if(this.cart.carts.length<1)alert("購物車目前沒有商品");else{var e=this.$loading.show();this.axios.post("".concat(this.apiUrl,"/api/").concat(this.apiPath,"/order"),{data:Object(m["a"])({},this.order)}).then((function(n){e.hide();var r=n.data,o=r.message,a=r.total;alert("".concat(o,"，總金額為 ").concat(a)),t.$refs.form.resetForm(),t.order.message="",t.getCarts()})).catch((function(t){console.log(t)}))}}},mounted:function(){this.getProducts(),this.getCarts()}};const z=_()(q,[["render",h]]);e["default"]=z}}]);
//# sourceMappingURL=chunk-42b39b58.498a58b1.js.map